(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{29:function(e,n,t){e.exports=t(43)},34:function(e,n,t){},43:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(18),i=t.n(a),c=(t(34),t(4)),s=t(7),l=t(5),u=t(8),d=t(9),p=t(2),f=t(1),g=t(3),h=t.n(g),m=t(6),C=t(12),v=t(20),b=function e(n){var t=n.uuid,r=n.message;Object(c.a)(this,e),this.uuid=t,this.message=r},E=function e(n){var t=n.uuid,r=n.message,o=n.size,a=n.fingerprint;Object(c.a)(this,e),this.uuid=t,this.message=r,this.size=o,this.fingerprint=a},x=function e(n){var t=n.uuid,r=n.fingerprint;Object(c.a)(this,e),this.uuid=t,this.fingerprint=r},y=function e(n){var t=n.uuid;Object(c.a)(this,e),this.uuid=t},F=function e(n){var t=n.message;Object(c.a)(this,e),this.message=t},k=function e(n){var t=n.uuid,r=n.message;Object(c.a)(this,e),this.uuid=t,this.message=r},O={UUID:"UUID",PEERS:"PEERS",JOIN:"JOIN",LEAVE:"LEAVE",OFFER:"OFFER",ANSWER:"ANSWER",PING:"PING",PONG:"PONG",ERROR:"ERROR",ICE_CANDIDATE:"ICE_CANDIDATE"},w="CONNECT",S="SEND_TEXT",T="SEND_FILES",D="DOWNLOAD_FILE",A="RECONNECT",B="SEND_MESSAGE",j="CLOSE",R="ERROR",I={TEXT:"TEXT",FILE:"FILE",ERROR:"ERROR",DOWNLOAD:"DOWNLOAD"},N=(Object(v.a)({},"otherPeerUUid",{peerConnection:"RTCPeerConnection",dataChannel:"RTCDataChannel"}),function e(n){var t=n.message,r=n.size,o=n.fingerprint;Object(c.a)(this,e),this.message=t,this.size=r,this.fingerprint=o}),M=function e(n){var t=n.fingerprint,r=n.message,o=n.size;Object(c.a)(this,e),this.fingerprint=t,this.message=r,this.size=o},U=function e(n){var t=n.fingerprint;Object(c.a)(this,e),this.fingerprint=t},L=function e(n){var t=n.message;Object(c.a)(this,e),this.message=t};function P(e,n){var t={messageType:e,data:n};return JSON.stringify(t)}function _(e){return console.log("rawMessage is ",e),function(e){try{var n=JSON.parse(e);if(!(n.messageType in O))throw new Error("This messageType is not supported! type: ".concat(n.messageType));return n}catch(t){return{messageType:O.ERROR,data:{message:t.message}}}}(e)}function z(e,n){var t={messageType:e,data:n};return JSON.stringify(t)}function W(e){return console.log("rawPeerMessage is ",e),function(e){try{var n=JSON.parse(e);if(!(n.messageType in I))throw new Error("This peerMessageType is not supported! type: ".concat(n.messageType));return n}catch(t){return{messageType:I.ERROR,data:{message:t.message}}}}(e)}function H(e,n){return G.apply(this,arguments)}function G(){return(G=Object(m.a)(h.a.mark((function e(n,t){var r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new TextEncoder("utf-8").encode(n),console.log("sender: fingerprint is ",n),console.log("headerFingerprint is ",r),e.next=5,new Blob([r.buffer,t]).arrayBuffer();case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){var e=new Date,n="0".concat(e.getHours()).slice(-2),t="0".concat(e.getMinutes()).slice(-2),r="0".concat(e.getSeconds()).slice(-2);return"".concat(n,":").concat(t,":").concat(r)}function J(){var e=new Uint8Array(10);return crypto.getRandomValues(e),"localdrop-file-"+Array.from(e,(function(e){return("0"+e.toString(16)).substr(-2)})).join("")}function Y(e){var n=e.source,t=e.destination,r=e.messageType,o=e.data;return r===I.TEXT?{source:n,destination:t,type:r,data:o,time:K(),progress:100}:r===I.FILE?{source:n,destination:t,type:r,data:o,time:K(),progress:0}:r===I.ERROR?{source:n,destination:t,type:r,data:o,time:K(),progress:100}:void 0}function V(e){var n=new RTCPeerConnection,t=n.createDataChannel("localdropDataChannel",{negotiated:!0,id:0});return t.binaryType="arraybuffer",t.onopen=function(n){q(n,e)},t.onclose=function(n){q(n,e),function(e){De[e]&&(De[e].forEach((function(n){n.writer.abort(),Ye("Download from #".concat(e," Aborted"))})),delete De[e])}(e)},t.onmessage=function(n){!function(e,n){X.apply(this,arguments)}(n,e)},t.onerror=function(n){var t=n.message,r=n.filename,o=n.lineno,a=n.colno,i=JSON.stringify({message:t,filename:r,lineno:o,colno:a},void 0,2);Ye("[peer ".concat(e,"]: dataChannel error: ")+i)},n.onicecandidate=function(n){(console.log("[peer ".concat(e,"]: onicecandidate, event is "),n),n.candidate)&&Le(P(O.ICE_CANDIDATE,{fromUUID:ze(),toUUID:e,ice:n.candidate}))},n.onconnectionstatechange=function(t){switch(console.log("[peer ".concat(e,"]: onconnectionstatechange, event is "),t),console.log("[peer ".concat(e,"]: peerConnection.connectionState is "),n.connectionState),n.connectionState){case"connecting":case"connected":case"disconnected":break;case"failed":Ye("onconnectionstatechange, peerConnection failed");break;case"closed":Ye("onconnectionstatechange, peerConnection closed");break;default:Ye("onconnectionstatechange, peerConnection.connectionState: "+n.connectionState)}},{peerConnection:n,dataChannel:t}}function X(){return(X=Object(m.a)(h.a.mark((function e(n,t){var r,o,a,i,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof n.data){e.next=5;break}return r=n.data,e.next=4,Ke(r,t);case 4:return e.abrupt("return");case 5:if(o=W(n.data),console.log("[peer ".concat(t,"]: handleDataChannelMessage, message is "),o),a=o.messageType,i=o.data,a!==I.TEXT){e.next=13;break}return c=Y({source:t,destination:ze(),data:i,messageType:a}),console.log("[handleDataChannelMessage]: messagePacket is ",c),_e(c),e.abrupt("return");case 13:if(a!==I.FILE){e.next=18;break}return s=Y({source:t,destination:ze(),data:i,messageType:a}),console.log("[handleDataChannelMessage]: messagePacket is ",s),_e(s),e.abrupt("return");case 18:if(a!==I.DOWNLOAD){e.next=22;break}return We(i.fingerprint,t),e.abrupt("return");case 22:if(a!==I.ERROR){e.next=26;break}return Ye(i.message),e.abrupt("return");case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,n){(console.log("[peer ".concat(n,"]: handleDataChannelStatusChange, event is "),e),"close"===e.type)&&Ye("[peer #".concat(n,"]: dataChannel closed "))}function Z(e){return $.apply(this,arguments)}function $(){return($=Object(m.a)(h.a.mark((function e(n){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.createOffer();case 2:return t=e.sent,e.next=5,n.setLocalDescription(t);case 5:return e.abrupt("return",n.localDescription);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e,n){return ee.apply(this,arguments)}function ee(){return(ee=Object(m.a)(h.a.mark((function e(n,t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("setOffer called"),e.next=3,n.setRemoteDescription(t);case 3:console.log(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return te.apply(this,arguments)}function te(){return(te=Object(m.a)(h.a.mark((function e(n){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.createAnswer();case 2:return t=e.sent,console.log("createAnswer, answer is ",t),e.next=6,n.setLocalDescription(t);case 6:return e.abrupt("return",n.localDescription);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,n){return oe.apply(this,arguments)}function oe(){return(oe=Object(m.a)(h.a.mark((function e(n,t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setRemoteDescription(t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e,n){var t,r=[],o=Object(C.a)(n);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(!e.peerConnections[a]){var i=V(a),c=i.peerConnection,s=i.dataChannel;r.push({uuid:a,peerConnection:c,dataChannel:s})}}}catch(l){o.e(l)}finally{o.f()}return r}function ie(e){e.addEventListener(O.UUID,(function(n){var t=n.uuid;e.uuid=t,function(e){ke.dispatch(function(e){return{type:"UPDATE_MY_UUID",payload:e}}(e))}(t)})),e.addEventListener(O.PEERS,(function(n){var t,r=n.peers.filter((function(n){return n!==e.uuid})),o=ae(e,r),a=Object(C.a)(o);try{for(a.s();!(t=a.n()).done;){var i=t.value,c=i.uuid,s=i.peerConnection,l=i.dataChannel;e.peerConnections[c]={peerConnection:s,dataChannel:l}}}catch(u){a.e(u)}finally{a.f()}Pe(r)})),e.addEventListener(O.JOIN,(function(n){var t,r=n.peers.filter((function(n){return n!==e.uuid})),o=ae(e,r),a=Object(C.a)(o);try{for(a.s();!(t=a.n()).done;){var i=t.value,c=i.uuid,s=i.peerConnection,l=i.dataChannel;e.peerConnections[c]={peerConnection:s,dataChannel:l}}}catch(u){a.e(u)}finally{a.f()}Pe(r)})),e.addEventListener(O.LEAVE,(function(n){var t,r=n.peers.filter((function(n){return n!==e.uuid})),o=Object(C.a)(r);try{for(o.s();!(t=o.n()).done;){var a=t.value;if(e.peerConnections[a]){var i=e.peerConnections[a],c=i.peerConnection,s=i.dataChannel;console.log("[LEAVE]: peerConnectionManager.peerConnections[peerUUID] is ",e.peerConnections[a]),c.close(),s.close(),delete e.peerConnections[a]}}}catch(l){o.e(l)}finally{o.f()}!function(e){ke.dispatch((n=e,{type:"DELETE_PEER",payload:n}));var n}(r)})),e.addEventListener(O.OFFER,function(){var n=Object(m.a)(h.a.mark((function n(t){var r,o,a,i,c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.fromUUID,o=t.toUUID,a=t.offer,t.timeStamp,console.log("peerConnectionManager.peerConnections[fromUUID] is",e.peerConnections[r]),e.peerConnections[r]){n.next=5;break}return console.log("offer, peerConnectionManager.peerConnections[fromUUID] not exist",e),n.abrupt("return");case 5:return i=e.peerConnections[r].peerConnection,n.prev=6,n.next=9,Q(i,a);case 9:return n.next=11,ne(i);case 11:c=n.sent,Le(P(O.ANSWER,{fromUUID:o,toUUID:r,answer:c})),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(6),Ye(JSON.stringify(n.t0,void 0,2));case 19:case"end":return n.stop()}}),n,null,[[6,16]])})));return function(e){return n.apply(this,arguments)}}()),e.addEventListener(O.ANSWER,function(){var n=Object(m.a)(h.a.mark((function n(t){var r,o,a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.fromUUID,t.toUUID,o=t.answer,t.timeStamp,e.peerConnections[r]){n.next=4;break}return console.log("answer, peerConnectionManager.peerConnections[fromUUID] not exist"),n.abrupt("return");case 4:return console.log("answer is ",o),a=e.peerConnections[r].peerConnection,n.next=8,re(a,o);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),e.addEventListener(O.ERROR,(function(e){Ye(e.message)})),e.addEventListener(O.ICE_CANDIDATE,function(){var n=Object(m.a)(h.a.mark((function n(t){var r,o,a,i;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.fromUUID,t.toUUID,o=t.ice,console.log("ICE_CANDIDATE, event is ",t),e.peerConnections[r]){n.next=5;break}return console.log("ICE CANDIDATE, peerConnection not exist"),n.abrupt("return");case 5:return a=e.peerConnections[r],i=a.peerConnection,a.dataChannel,n.next=8,i.addIceCandidate(o);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}var ce=function(){var e={uuid:null,peerConnections:{},events:{},addEventListener:function(n,t){e.events[n]=e.events[n]||[],e.events[n].push(t)},dispatchEvent:function(n){var t=n.type,r=e.events[t];if(r){var o,a=Object(C.a)(r);try{for(a.s();!(o=a.n()).done;){(0,o.value)(n)}}catch(i){a.e(i)}finally{a.f()}}else console.log("peerConnectionManager does not handle event: ".concat(t))}};return ie(e),function(e){e.addEventListener(w,function(){var n=Object(m.a)(h.a.mark((function n(t){var r,o,a,i,c,s;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.uuid,e.peerConnections[r]&&console.log("[peerConnectionManger]: ".concat(w,", peerConnection already exist")),o=e.peerConnections[r]||V(r),a=o.peerConnection,i=o.dataChannel,e.peerConnections[r]={peerConnection:a,dataChannel:i},"connected"!==a.connectionState){n.next=7;break}return console.log("[peerConnectionManger]: ".concat(w,", peerConnection already connected")),n.abrupt("return");case 7:return n.prev=7,c=e.uuid,n.next=11,Z(a);case 11:s=n.sent,Le(P(O.OFFER,{fromUUID:c,toUUID:r,offer:s})),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(7),Ye(JSON.stringify(n.t0,void 0,2));case 19:case"end":return n.stop()}}),n,null,[[7,16]])})));return function(e){return n.apply(this,arguments)}}()),e.addEventListener(S,(function(n){var t=n.uuid,r=n.message;if(e.peerConnections[t]){var o=e.peerConnections[t].dataChannel,a=new N({message:r,size:r.length,fingerprint:J()}),i=z(I.TEXT,a);if(console.log("CLIENT_EVENT_TYPE.SEND_TEXT, message is ",i),console.log("dataChannel is ",o),console.log("dataChannel.readyState is ",o.readyState),"open"!==o.readyState)return Ye("dataChannel not opened!, try to clikc the peer again!"),void console.log("dataChannel not opened!, click the peer again!");o.send(i),_e(Y({source:ze(),destination:t,data:a,messageType:I.TEXT}))}else Ye("can not find peer: #".concat(t))})),e.addEventListener(T,(function(n){var t=n.uuid,r=n.message,o=n.size,a=n.fingerprint;if(e.peerConnections[t]){var i=e.peerConnections[t].dataChannel,c=new M({fingerprint:a,size:o,message:r}),s=z(I.FILE,c);if(console.log("CLIENT_EVENT_TYPE.SEND_FILES, message is ",s),console.log("dataChannel is ",i),console.log("dataChannel.readyState is ",i.readyState),"open"!==i.readyState)return Ye("dataChannel not opened!, try to clikc the peer again!"),void console.log("dataChannel not opened!, click the peer again!");i.send(s),_e(Y({source:ze(),destination:t,data:c,messageType:I.FILE}))}else Ye("can not find peer: #".concat(t))})),e.addEventListener(D,(function(n){var t=n.uuid,r=n.fingerprint;if(e.peerConnections[t]){var o=e.peerConnections[t].dataChannel,a=new U({fingerprint:r}),i=z(I.DOWNLOAD,a);if(console.log("CLIENT_EVENT_TYPE.DOWNLOAD_FILE, message is ",i),console.log("dataChannel is ",o),console.log("dataChannel.readyState is ",o.readyState),"open"!==o.readyState)return Ye("CLIENT_EVENT ".concat(D,": dataChannel not opened!")+"dataChannel.readyState: ".concat(o.readyState)),void console.log("dataChannel not opened!");o.send(i)}else Ye("can not find peer: #".concat(t))})),e.addEventListener(R,(function(n){var t=n.uuid,r=n.message;if(e.peerConnections[t]){var o=e.peerConnections[t].dataChannel,a=new L({message:r}),i=z(I.ERROR,a);if(console.log("CLIENT_EVENT_TYPE.ERROR, message is ",i),console.log("dataChannel is ",o),console.log("dataChannel.readyState is ",o.readyState),"open"!==o.readyState)return Ye("CLIENT_EVENT ".concat(R,": dataChannel not opened!")),void console.log("dataChannel not opened!");o.send(i)}else Ye("can not find peer: #".concat(t))})),e.addEventListener(A,(function(e){e.uuid}))}(e),e}(),se=function e(n,t){if(Object(c.a)(this,e),this.type=n,t)for(var r=0,o=Object.keys(t);r<o.length;r++){var a=o[r];this[a]=t[a]}},le=1,ue={0:"CONNECTING",1:"OPEN",2:"CLOSING",3:"CLOSED"},de={1e3:{name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1004:{name:"Reserved",description:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Received",description:"Reserved.  Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",description:"Reserved. Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS Handshake",description:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."}};function pe(e){var n=new WebSocket(e);return n.addEventListener("open",function(){var e=Object(m.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=P(O.PING,{message:"ping, hello server!"}),n.send(r);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),n.addEventListener("message",function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("[Message form server], event is ",t),console.log("[Message from server] ",t.data),fe(_(t.data),n);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),n.addEventListener("close",(function(e){var n=e.code,t={eventType:"CLOSE",code:n,reason:e.reason,wasClean:e.wasClean};if(de[n]){var r=de[n],o=r.name,a=r.description;t.name=o,t.description=a}Ye("Websocket connection closed, "+JSON.stringify(t,void 0,2))})),n.addEventListener("error",(function(e){console.log("websocket error, event is ",e);var n={eventType:"ERROR",event:e};Ye("websocket error: "+JSON.stringify(n,void 0,2))})),n}function fe(e,n){return ge.apply(this,arguments)}function ge(){return(ge=Object(m.a)(h.a.mark((function e(n,t){var r,o,a,i,c,s,l,u,d,p,f,g,m,C,v,b,E;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.messageType,o=n.data,console.log("handleMessage, messageType is ",r),console.log("handleMessage, data is ",o),r!==O.UUID){e.next=8;break}return a=o.uuid,i=new se(r,{uuid:a}),ce.dispatchEvent(i),e.abrupt("return");case 8:if(r!==O.PEERS){e.next=13;break}return c=o.peers,s=new se(r,{peers:c}),ce.dispatchEvent(s),e.abrupt("return");case 13:if(r!==O.JOIN){e.next=18;break}return l=o.peers,u=new se(r,{peers:l}),ce.dispatchEvent(u),e.abrupt("return");case 18:if(r!==O.LEAVE){e.next=23;break}return d=o.peers,p=new se(r,{peers:d}),ce.dispatchEvent(p),e.abrupt("return");case 23:if(r!==O.OFFER){e.next=27;break}return f=new se(r,o),ce.dispatchEvent(f),e.abrupt("return");case 27:if(r!==O.ANSWER){e.next=31;break}return g=new se(r,o),ce.dispatchEvent(g),e.abrupt("return");case 31:if(r!==O.PING){e.next=35;break}return m=P(r,{message:"This is client pong!"}),t.send(m),e.abrupt("return");case 35:if(r!==O.PONG){e.next=39;break}return C=o.message,console.log("[pong from server]: ".concat(C)),e.abrupt("return");case 39:if(r!==O.ERROR){e.next=44;break}return v=o.message,b=new se(r,{message:v}),ce.dispatchEvent(b),e.abrupt("return");case 44:if(r!==O.ICE_CANDIDATE){e.next=48;break}return E=new se(r,o),ce.dispatchEvent(E),e.abrupt("return");case 48:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var he,me=function(e){var n={socket:pe(e),state:"",events:{},addEventListener:function(e,t){n.events[e]=n.events[e]||[],n.events[e].push(t)},dispatchEvent:function(e){var t=e.type,r=n.events[t];if(r){var o,a=Object(C.a)(r);try{for(a.s();!(o=a.n()).done;){(0,o.value)(e)}}catch(i){a.e(i)}finally{a.f()}}else console.log("websocketManager does not handle event: ".concat(t))},send:function(e){var t=n.socket;t.readyState!==le&&Ye("websocket it not opened! state: "+ue[t.readyState]);n.socket.send(e)},close:function(){n.socket.close()}};return n}("wss://api.localdrop.me");(he=me).addEventListener(B,(function(e){var n=e.message;he.send(n)})),he.addEventListener(j,(function(e){he.close()}));var Ce=me,ve=t(14),be=t(11),Ee=t(13),xe={peers:[],message:[]};var ye={message:"App version: ".concat("v0.1.0","\n\nHi, This is the first system message!"),fingerprint:J(),createdAt:K()};var Fe=Object(ve.b)({localDropState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,n=arguments.length>1?arguments[1]:void 0;if(console.log("localDropReducer is called ",e),console.log("action is ",n),"ADD_PEER"===n.type){var t=Object(Ee.a)({},e),r=n.payload;return console.log("ADD_PEER!!!"),t.peers=[].concat(Object(be.a)(t.peers),Object(be.a)(r)),console.log("ADD_PEER!!!, ",t),t}if("DELETE_PEER"===n.type){var o=Object(Ee.a)({},e),a=new Set(n.payload);console.log("peerSet is ",a);var i=o.peers.filter((function(e){return!a.has(e)}));return console.log("newPeers is ",i),o.peers=i,o}return e},messagePackets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;if("ADD_MESSAGE"===n.type){var t=n.payload,r=[].concat(Object(be.a)(e),[t]);return r}return e},myUUID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;if("UPDATE_MY_UUID"===n.type){var t=n.payload;return t}return e},peerUUID:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;if("UPDATE_PEER_UUID"===n.type){var t=n.payload;return t}if("DELETE_PEER"===n.type){var r=n.payload;if(-1!==r.indexOf(e))return null}return e},filesToTransfer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if("ADD_FILES"===n.type){var t=n.payload,r=Object(Ee.a)({},e);return t.forEach((function(e){var n=e.file,t=e.fingerprint;r[t]=n})),r}return e},messageProgresses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if("UPDATE_PROGRESS"===n.type){var t=Object(Ee.a)({},e),r=n.payload,o=r.fingerprint,a=r.progress;return t[o]&&(t[o]=a),t}return e},systemMessageMetaData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isSelected:!1,isRead:!0},n=arguments.length>1?arguments[1]:void 0;if("UPDATE_IS_SYSTEM_MESSAGE_SELECTED"===n.type){var t=Object(Ee.a)({},e);return t.isSelected=!t.isSelected,t.isRead=!!t.isSelected||t.isRead,t}if("ADD_SYSTEM_MESSAGE"===n.type){var r=Object(Ee.a)({},e);return r.isRead=!!r.isSelected,r}return e},systemMessages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[ye],n=arguments.length>1?arguments[1]:void 0;if("ADD_SYSTEM_MESSAGE"===n.type){var t=n.payload,r=[t].concat(Object(be.a)(e));return r}return e}}),ke=Object(ve.c)(Fe),Oe=t(22),we=t.n(Oe);we.a.mitm="".concat("https://24seconds.github.io/kartrider-roulette/localdrop_mitm","/mitm.html?version=2.0.0");var Se=66,Te={},De={},Ae={};function Be(e,n){return je.apply(this,arguments)}function je(){return(je=Object(m.a)(h.a.mark((function e(n,t){var r,o,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(be.a)(n),e.next=3,new Blob(r).arrayBuffer();case 3:o=e.sent,a=new Uint8Array(o),t.write(a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e,n){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(m.a)(h.a.mark((function e(n,t){var r,o,a,i,c,s,l,u,d,p,f,g,m,C,v,b;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ge(n),o=r.fingerprint,a=r.chunk,Te[o]=Te[o]||{accArr:[],downloadWriter:null,offset:0,size:0,available:!0},Te[o].downloadWriter){e.next=19;break}i=He(o),c=i&&i.data.message||"localdrop_download_file",s=i&&i.data.size||0,l={pathname:o,size:s},Te[o].size=s,u=we.a.createWriteStream(c,l),d=u.getWriter(),window.addEventListener("unload",(function(e){d.abort()})),De[t]=De[t]||[],De[t]=[{writer:d,fingerprint:o}].concat(Object(be.a)(De[t])),Te[o].downloadWriter=d,p=Te[o].accArr,Te[o].offset+=a.byteLength,p.push(a),e.next=31;break;case 19:if(f=Te[o].accArr,g=Te[o].downloadWriter,Te[o].offset+=a.byteLength,f.push(a),!(f.length>=Se&&Te[o].available)){e.next=31;break}return Te[o].available=!1,m=Object(be.a)(f),Te[o].accArr.splice(0,Se),e.next=29,Be(m,g);case 29:Te[o].available=!0,66===Se&&(Se=625);case 31:if(!(Te[o].offset>=Te[o].size)){e.next=40;break}return C=Te[o].accArr,v=Te[o].downloadWriter,e.next=36,Be(Object(be.a)(C),v);case 36:Te[o].accArr=[],v.close(),De[t]&&(-1!==(b=De[t].findIndex((function(e){return e.fingerprint===o})))&&De[t].splice(b,1),0===De[t].length&&delete De[t],console.log("currentDownloadJob is ",De)),delete Te[o];case 40:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e,n,t,r,o,a){if(n>e.size)return Ae[o]&&(Ae[o]=!1),console.log("offset is ",n),console.log("file.size is ",e.size),void Ye("Transfer file to #".concat(a," done.\nFile: ").concat(e.name));var i=e.slice(n,n+t);r.readAsArrayBuffer(i)}function Me(e,n){var t=new se(R,new k({uuid:e,message:n}));ce.dispatchEvent(t)}function Ue(e,n){n.forEach((function(n){!function(e,n){var t=n.file,r=n.fingerprint;console.log("sendFileToPeer, file is",t);var o=new se(T,new E({uuid:e,message:t.name,size:t.size,fingerprint:r}));ce.dispatchEvent(o)}(e,n)}))}function Le(e){var n=new se(B,new F({message:e}));Ce.dispatchEvent(n)}function Pe(e){ke.dispatch({type:"ADD_PEER",payload:e})}function _e(e){ke.dispatch(function(e){return{type:"ADD_MESSAGE",payload:e}}(e))}function ze(){return ke.getState().myUUID}function We(e,n){var t=function(e){return ke.getState().filesToTransfer[e]}(e);if(t)if(ce.peerConnections[n]){var r=ce.peerConnections[n].dataChannel;if(function(e){return Ae[e]||!1}(e)){var o={fingerprint:e,file:{name:t.name,size:t.size,type:t.type}};Me(n,"[From #".concat(ze(),"]: download is in progress ")+JSON.stringify(o,void 0,2))}else!function(e,n,t,r){Ae[e]=!0;var o=new FileReader,a=0;console.log("chunkSize is ",15965),console.log("file.size is ",n.size),Ne(n,a,15965,o,e,r),o.addEventListener("load",function(){var i=Object(m.a)(h.a.mark((function i(c){var s,l;return h.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return console.log("event.target.result is ",c.target.result),console.log("typeof event.target.result is ",typeof c.target.result),s=c.target.result,console.log("chunk is ",s),i.next=6,H(e,s);case 6:if(l=i.sent,console.log("chunkWithHeader is ",l),console.log("chunkWithHeader.byteLength is ",l.byteLength),"closing"!==t.readyState&&"closed"!==t.readyState){i.next=11;break}return i.abrupt("return");case 11:t.send(l),Ne(n,a+=15965,15965,o,e,r);case 14:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}())}(e,t,r,n)}else{Ye("#".concat(n," requested download but uuid not found : ")+JSON.stringify({fingerprint:e,file:t},void 0,2))}else Me(n,"[From #".concat(ze(),"]: ").concat(e," file link has expired"))}function He(e){return ke.getState().messagePackets.find((function(n){return n.data.fingerprint===e}))}function Ge(e){return function(e){var n=new Uint8Array(e);return{fingerprint:(new TextDecoder).decode(n.slice(0,35)),chunk:n.slice(35,n.byteLength).buffer}}(e)}function Ke(e,n){return Je.apply(this,arguments)}function Je(){return(Je=Object(m.a)(h.a.mark((function e(n,t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(n,t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e){var n={message:e,fingerprint:J(),createdAt:K()};ke.dispatch(function(e){return{type:"ADD_SYSTEM_MESSAGE",payload:e}}(n))}window.addEventListener("beforeunload",(function(e){console.log("beforeunload"),function(){var e=new se(j);Ce.dispatchEvent(e)}()}));var Ve={MaterialThemeOceanic:{Background:"#263238",Foreground:"#B0BEC5",Text:"#607D8B",SelectionBackground:"#546E7A",SelectionForeground:"#FFFFFF",Buttons:"#2E3C43",SecondBackground:"#32424A",Disabled:"#415967",Contrast:"#1E272C",Active:"#314549",Border:"#2A373E",Highlight:"#425B67",Tree:"#546E7A",Notifications:"#1E272C",AccentColor:"#009688",ExcludedFilesColor:"#2E3C43",CommentsColor:"#546e7a",LinksColor:"#80cbc4",FunctionsColor:"#82aaff",KeywordsColor:"#c792ea",TagsColor:"#f07178",StringsColor:"#c3e88d",OperatorsColor:"#89ddff",AttributesColor:"#ffcb6b",NumbersColor:"#f78c6c",ParametersColor:"#f78c6c",SecondText:"#FFFFFF",ContrastBackground:"#000000"},MaterialThemePalenight:{Background:"#292D3E",Foreground:"#A6ACCD",Text:"#676E95",SelectionBackground:"#3C435E",SelectionForeground:"#FFFFFF",Buttons:"#303348",SecondBackground:"#34324a",Disabled:"#515772",Contrast:"#202331",Active:"#414863",Border:"#2b2a3e",Highlight:"#444267",Tree:"#676E95",Notifications:"#202331",AccentColor:"#ab47bc",ExcludedFilesColor:"#2f2e43",CommentsColor:"#676E95",LinksColor:"#80cbc4",FunctionsColor:"#82aaff",KeywordsColor:"#c792ea",TagsColor:"#f07178",StringsColor:"#c3e88d",OperatorsColor:"#89ddff",AttributesColor:"#ffcb6b",NumbersColor:"#f78c6c",ParametersColor:"#f78c6c",SecondText:"#FFFFFF",ContrastBackground:"#000000"},MaterialThemeDarker:{Background:"#212121",Foreground:"#B0BEC5",Text:"#727272",SelectionBackground:"#353535",SelectionForeground:"#FFFFFF",Buttons:"#2A2A2A",SecondBackground:"#292929",Disabled:"#474747",Contrast:"#1A1A1A",Active:"#323232",Border:"#292929",Highlight:"#3F3F3F",Tree:"#323232",Notifications:"#1A1A1A",AccentColor:"#FF9800",ExcludedFilesColor:"#323232",CommentsColor:"#616161",LinksColor:"#80cbc4",FunctionsColor:"#82aaff",KeywordsColor:"#c792ea",TagsColor:"#f07178",StringsColor:"#c3e88d",OperatorsColor:"#89ddff",AttributesColor:"#ffcb6b",NumbersColor:"#f78c6c",ParametersColor:"#f78c6c",SecondText:"#FFFFFF",ContrastBackground:"#000000"},MaterialThemeDeepOcean:{Background:"#0F111A",Foreground:"#8F93A2",Text:"#4B526D",SelectionBackground:"#232632",SelectionForeground:"#FFFFFF",Buttons:"#191A21",SecondBackground:"#181A1F",Disabled:"#464B5D",Contrast:"#090B10",Active:"#1A1C25",Border:"#0F111A",Highlight:"#1F2233",Tree:"#717CB4",Notifications:"#090B10",AccentColor:"#84ffff",ExcludedFilesColor:"#292D3E",CommentsColor:"#717CB4",LinksColor:"#80cbc4",FunctionsColor:"#82aaff",KeywordsColor:"#c792ea",TagsColor:"#f07178",StringsColor:"#c3e88d",OperatorsColor:"#89ddff",AttributesColor:"#ffcb6b",NumbersColor:"#f78c6c",ParametersColor:"#F59762",SecondText:"#FFFFFF",ContrastBackground:"#000000"},ThemeOneLight:{Background:"#FAFAFA",Foreground:"#232324",Text:"#9D9D9F",SelectionBackground:"#DBDBDC",SelectionForeground:"#232324",Buttons:"#DBDBDC",SecondBackground:"#EAEAEB",Disabled:"#424243",Contrast:"#FFFFFF",Active:"#DBDBDC",Border:"#DBDBDC",Highlight:"#EAEAEB",Tree:"#DBDBDC",Notifications:"#F2F2F2",AccentColor:"#2979ff",ExcludedFilesColor:"#DBDBDC",CommentsColor:"#A0A1A7",LinksColor:"#0184BC",FunctionsColor:"#4078F2",KeywordsColor:"#A626A4",TagsColor:"#E4564A",StringsColor:"#50A14E",OperatorsColor:"#4078F2",AttributesColor:"#C18401",NumbersColor:"#986801",ParametersColor:"#383A42",SecondText:"#000000",ContrastBackground:"#FFFFFF"},ThemeMonoKaiPro:{Background:"#2D2A2E",Foreground:"#fcfcfa",Text:"#939293",SelectionBackground:"#5B595C",SelectionForeground:"#ffd866",Buttons:"#403E41",SecondBackground:"#403E41",Disabled:"#727072",Contrast:"#221F22",Active:"#4A474B",Border:"#2d2a2e",Highlight:"#5b595c",Tree:"#403E41",Notifications:"#363437",AccentColor:"#ffd866",ExcludedFilesColor:"#3a3a3c",CommentsColor:"#727072",LinksColor:"#78DCE8",FunctionsColor:"#A9DC76",KeywordsColor:"#FF6188",TagsColor:"#FF6188",StringsColor:"#FFD866",OperatorsColor:"#FF6188",AttributesColor:"#78DCE8",NumbersColor:"#AB9DF2",ParametersColor:"#F59762",SecondText:"#FFFFFF",ContrastBackground:"#000000"},MaterialThemeLighter:{Background:"#FAFAFA",Foreground:"#546E7A",Text:"#94A7B0",SelectionBackground:"#80CBC4",SelectionForeground:"#546e7a",Buttons:"#F3F4F5",SecondBackground:"#eae8e8",Disabled:"#D2D4D5",Contrast:"#F4F4F4",Active:"#E7E7E8",Border:"#d3e1e8",Highlight:"#E7E7E8",Tree:"#80CBC4",Notifications:"#eae8e8",AccentColor:"#00BCD4",ExcludedFilesColor:"#eae8e8",CommentsColor:"#AABFC9",LinksColor:"#39ADB5",FunctionsColor:"#6182B8",KeywordsColor:"#7C4DFF",TagsColor:"#E53935",StringsColor:"#91B859",OperatorsColor:"#39ADB5",AttributesColor:"#F6A434",NumbersColor:"#F76D47",ParametersColor:"#F76D47",SecondText:"#000000",ContrastBackground:"#FFFFFF"},SolarizedLight:{Background:"#fdf6e3",Foreground:"#586e75",Text:"#93a1a1",SelectionBackground:"#93a1a1",SelectionForeground:"#002b36",Buttons:"#FEFBF1",SecondBackground:"#F6F0DE",Disabled:"#C9CCC3",Contrast:"#eee8d5",Active:"#F6F0DE",Border:"#edead9",Highlight:"#F6F0DE",Tree:"#93a1a1",Notifications:"#EDE8D4",AccentColor:"#d33682",ExcludedFilesColor:"#E3DCC9",CommentsColor:"#93A1A1",LinksColor:"#268BD2",FunctionsColor:"#B58900",KeywordsColor:"#859900",TagsColor:"#268BD2",StringsColor:"#2AA198",OperatorsColor:"#657B83",AttributesColor:"#657B83",NumbersColor:"#D33682",ParametersColor:"#657B83",SecondText:"#000000",ContrastBackground:"#FFFFFF"},ThemeDracula:{Background:"#282A36",Foreground:"#F8F8F2",Text:"#6272A4",SelectionBackground:"#44475A",SelectionForeground:"#8BE9FD",Buttons:"#393C4B",SecondBackground:"#282A36",Disabled:"#6272A4",Contrast:"#191A21",Active:"#44475A",Border:"#21222C",Highlight:"#6272A4",Tree:"#44475A",Notifications:"#1D2228",AccentColor:"#FF79C5",ExcludedFilesColor:"#34353D",CommentsColor:"#6272A4",LinksColor:"#F1FA8C",FunctionsColor:"#50FA78",KeywordsColor:"#FF79C6",TagsColor:"#FF79C6",StringsColor:"#F1FA8C",OperatorsColor:"#FF79C6",AttributesColor:"#50FA7B",NumbersColor:"#BD93F9",ParametersColor:"#FFB86C",SecondText:"#FFFFFF",ContrastBackground:"#000000"},ThemeArcDark:{Background:"#2f343f",Foreground:"#D3DAE3",Text:"#8b9eb5",SelectionBackground:"#8888FF",SelectionForeground:"#FFFFFF",Buttons:"#383C4A",SecondBackground:"#393f4c",Disabled:"#D3DAE3",Contrast:"#262b33",Active:"#41416A",Border:"#404552",Highlight:"#3F3F46",Tree:"#08507C",Notifications:"#262a33",AccentColor:"#42A5F5",ExcludedFilesColor:"#474B57",CommentsColor:"#747C84",LinksColor:"#7587A6",FunctionsColor:"#7587A6",KeywordsColor:"#9B859D",TagsColor:"#CF6A4C",StringsColor:"#8F9D6A",OperatorsColor:"#A7A7A7",AttributesColor:"#F9EE98",NumbersColor:"#CDA869",ParametersColor:"#CDA869",SecondText:"#FFFFFF",ContrastBackground:"#000000"},ThemeOneDark:{Background:"#282C34",Foreground:"#979FAD",Text:"#979FAD",SelectionBackground:"#3A3F4B",SelectionForeground:"#FFFFFF",Buttons:"#3A3F4B",SecondBackground:"#2F333D",Disabled:"#6B727D",Contrast:"#21252B",Active:"#383E49",Border:"#282C34",Highlight:"#383D48",Tree:"#3A3F4B",Notifications:"#282C34",AccentColor:"#2979ff",ExcludedFilesColor:"#3c4150",CommentsColor:"#59626F",LinksColor:"#56B6C2",FunctionsColor:"#61AEEF",KeywordsColor:"#C679DD",TagsColor:"#F07178",StringsColor:"#98C379",OperatorsColor:"#61AFEF",AttributesColor:"#E5C17C",NumbersColor:"#D19A66",ParametersColor:"#ABB2BF",SecondText:"#FFFFFF",ContrastBackground:"#000000"},ThemeNightOwl:{Background:"#011627",Foreground:"#d6deeb",Text:"#5f7e97",SelectionBackground:"#1d3b53FF",SelectionForeground:"#FFFFFF",Buttons:"#0b253a",SecondBackground:"#0b2942",Disabled:"#697098",Contrast:"#010e1a",Active:"#234d70",Border:"#122d42",Highlight:"#084d81",Tree:"#234d70",Notifications:"#01111d",AccentColor:"#7e57c2",ExcludedFilesColor:"#0e293f",CommentsColor:"#637777",LinksColor:"#ecc48d",FunctionsColor:"#B58900",KeywordsColor:"#c792ea",TagsColor:"#7fdbca",StringsColor:"#ecc48d",OperatorsColor:"#c792ea",AttributesColor:"#ef5350",NumbersColor:"#f78c6c",ParametersColor:"#d6deeb",SecondText:"#FFFFFF",ContrastBackground:"#000000"},ThemeLightOwl:{Background:"#F0F0F0",Foreground:"#403f53",Text:"#90A7B2",SelectionBackground:"#E0E0E0",SelectionForeground:"#403f53",Buttons:"#d9d9d9",SecondBackground:"#FBFBFB",Disabled:"#93A1A1",Contrast:"#D0D0D0",Active:"#d3e8f8",Border:"#d9d9d9",Highlight:"#CCCCCC",Tree:"#7cd3e8",Notifications:"#F0F0F0",AccentColor:"#2AA298",ExcludedFilesColor:"#E0E7EA",CommentsColor:"#989fb1",LinksColor:"#ff869a",FunctionsColor:"#4876d6",KeywordsColor:"#994cc3",TagsColor:"#994cc3",StringsColor:"#c96765",OperatorsColor:"#994cc3",AttributesColor:"#0c969b",NumbersColor:"#aa0982",ParametersColor:"#0c969b",SecondText:"#000000",ContrastBackground:"#FFFFFF"}};function Xe(){return(Xe=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function qe(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var Ze=o.a.createElement("g",null,o.a.createElement("path",{d:"M409.132,114.573c-19.608-33.596-46.205-60.194-79.798-79.8C295.736,15.166,259.057,5.365,219.271,5.365 c-39.781,0-76.472,9.804-110.063,29.408c-33.596,19.605-60.192,46.204-79.8,79.8C9.803,148.168,0,184.854,0,224.63 c0,47.78,13.94,90.745,41.827,128.906c27.884,38.164,63.906,64.572,108.063,79.227c5.14,0.954,8.945,0.283,11.419-1.996 c2.475-2.282,3.711-5.14,3.711-8.562c0-0.571-0.049-5.708-0.144-15.417c-0.098-9.709-0.144-18.179-0.144-25.406l-6.567,1.136 c-4.187,0.767-9.469,1.092-15.846,1c-6.374-0.089-12.991-0.757-19.842-1.999c-6.854-1.231-13.229-4.086-19.13-8.559 c-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559 c-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-0.951-2.568-2.098-3.711-3.429c-1.142-1.331-1.997-2.663-2.568-3.997 c-0.572-1.335-0.098-2.43,1.427-3.289c1.525-0.859,4.281-1.276,8.28-1.276l5.708,0.853c3.807,0.763,8.516,3.042,14.133,6.851 c5.614,3.806,10.229,8.754,13.846,14.842c4.38,7.806,9.657,13.754,15.846,17.847c6.184,4.093,12.419,6.136,18.699,6.136 c6.28,0,11.704-0.476,16.274-1.423c4.565-0.952,8.848-2.383,12.847-4.285c1.713-12.758,6.377-22.559,13.988-29.41 c-10.848-1.14-20.601-2.857-29.264-5.14c-8.658-2.286-17.605-5.996-26.835-11.14c-9.235-5.137-16.896-11.516-22.985-19.126 c-6.09-7.614-11.088-17.61-14.987-29.979c-3.901-12.374-5.852-26.648-5.852-42.826c0-23.035,7.52-42.637,22.557-58.817 c-7.044-17.318-6.379-36.732,1.997-58.24c5.52-1.715,13.706-0.428,24.554,3.853c10.85,4.283,18.794,7.952,23.84,10.994 c5.046,3.041,9.089,5.618,12.135,7.708c17.705-4.947,35.976-7.421,54.818-7.421s37.117,2.474,54.823,7.421l10.849-6.849 c7.419-4.57,16.18-8.758,26.262-12.565c10.088-3.805,17.802-4.853,23.134-3.138c8.562,21.509,9.325,40.922,2.279,58.24 c15.036,16.18,22.559,35.787,22.559,58.817c0,16.178-1.958,30.497-5.853,42.966c-3.9,12.471-8.941,22.457-15.125,29.979 c-6.191,7.521-13.901,13.85-23.131,18.986c-9.232,5.14-18.182,8.85-26.84,11.136c-8.662,2.286-18.415,4.004-29.263,5.146 c9.894,8.562,14.842,22.077,14.842,40.539v60.237c0,3.422,1.19,6.279,3.572,8.562c2.379,2.279,6.136,2.95,11.276,1.995 c44.163-14.653,80.185-41.062,108.068-79.226c27.88-38.161,41.825-81.126,41.825-128.906 C438.536,184.851,428.728,148.168,409.132,114.573z"})),$e=o.a.createElement("g",null),Qe=o.a.createElement("g",null),en=o.a.createElement("g",null),nn=o.a.createElement("g",null),tn=o.a.createElement("g",null),rn=o.a.createElement("g",null),on=o.a.createElement("g",null),an=o.a.createElement("g",null),cn=o.a.createElement("g",null),sn=o.a.createElement("g",null),ln=o.a.createElement("g",null),un=o.a.createElement("g",null),dn=o.a.createElement("g",null),pn=o.a.createElement("g",null),fn=o.a.createElement("g",null),gn=function(e){var n=e.svgRef,t=e.title,r=qe(e,["svgRef","title"]);return o.a.createElement("svg",Xe({id:"Capa_1",x:"0px",y:"0px",width:"438.549px",height:"438.549px",viewBox:"0 0 438.549 438.549",style:{enableBackground:"new 0 0 438.549 438.549"},xmlSpace:"preserve",ref:n},r),t?o.a.createElement("title",null,t):null,Ze,$e,Qe,en,nn,tn,rn,on,an,cn,sn,ln,un,dn,pn,fn)},hn=o.a.forwardRef((function(e,n){return o.a.createElement(gn,Xe({svgRef:n},e))}));t.p;function mn(){var e=Object(p.a)(["\n  display: flex;\n  text-align: center;\n  font-size: 26px;\n  height: 60px;\n  background: ",";\n\n  .localdrop-header-title {\n    display: flex;\n    height: 100%;\n    align-items: center;\n    margin-left: 20px;\n    flex-grow: 1;\n    text-align: left;\n    color: ",";\n    font-weight: bold;\n  }\n\n  .localdrop-header-github {\n    display: flex;\n    font-size: 18px;\n    justify-content: center;\n    align-items: center;\n    margin-right: 20px;\n    color: ",";\n    cursor: pointer;\n\n    svg {\n      width: 24px;\n      height: 24px;\n      margin-right: 12px;\n      fill: ",";\n    }\n  }\n\n  @media (max-width: ",") {\n    display: flex;\n    height: 50px;\n    text-align: left;\n\n    .localdrop-header-title {\n      margin-left: 10px;\n      font-size: 18px;\n    }\n\n    .localdrop-header-github {\n      font-size: 14px;\n      margin-right: 10px;\n\n      svg {\n        width: 16px;\n        height: 16px;\n        margin-right: 6px;\n      }\n    }\n  }\n"]);return mn=function(){return e},e}var Cn=f.d.div(mn(),(function(e){return e.theme.Background}),(function(e){return e.theme.StringsColor}),(function(e){return e.theme.StringsColor}),(function(e){return e.theme.SecondText}),"620px"),vn=function(e){Object(d.a)(t,e);var n=Object(u.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=n.call(this,e)).onClickRepo=r.onClickRepo.bind(Object(l.a)(r)),r}return Object(s.a)(t,[{key:"onClickRepo",value:function(){window.open("https://github.com/24seconds/localdrop","_blank")}},{key:"render",value:function(){return o.a.createElement(Cn,{className:"localdrop-header"},o.a.createElement("div",{className:"localdrop-header-title"},"Local Drop!"),o.a.createElement("div",{className:"localdrop-header-github",onClick:this.onClickRepo},o.a.createElement(hn,null),"localdrop"))}}]),t}(r.Component),bn=t(10);function En(){var e=Object(p.a)(["\n  display: flex;\n  align-items: center;\n\n  .localdrop-animation-switch {\n    display: inline-block;\n    box-sizing: border-box;\n    width: 60px;\n    height: 30px;\n    background-color: ",";\n    padding: 3px;\n    cursor: pointer;\n    border: solid 2px ",";\n    border-radius: 4px;\n\n    &.on {\n      background-color: ",";\n    }\n\n    .slider-container {\n      width: 100%;\n      height: 100%;\n      position: relative;\n      \n\n      .slider {\n        display: flex;\n        align-items: center;\n        font-size: 20px;\n        justify-content: center;\n        background-color: ",";\n        color: ",";\n        width: 50%;\n        height: 100%;\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        transition: .3s;\n        border-radius: 4px;\n\n        user-select: none;\n\n        &.on {\n          transform: translate3d(100%, 0, 0);\n        }\n      }\n    }\n  }\n"]);return En=function(){return e},e}var xn=f.d.div(En(),(function(e){return e.theme.Disabled}),(function(e){return e.theme.Border}),(function(e){return e.theme.Active}),(function(e){return e.theme.SecondText}),(function(e){return e.theme.Notifications})),yn=function(e){Object(d.a)(t,e);var n=Object(u.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=n.call(this,e)).onAnimationToggle=r.onAnimationToggle.bind(Object(l.a)(r)),r}return Object(s.a)(t,[{key:"onAnimationToggle",value:function(){(0,this.props.onClick)()}},{key:"render",value:function(){var e=this.props,n=e.isSwitchOn,t=e.isRead;return o.a.createElement(xn,null,o.a.createElement("div",{className:"localdrop-animation-switch ".concat(n?"on":"off"),onClick:this.onAnimationToggle},o.a.createElement("div",{className:"slider-container"},o.a.createElement("div",{className:"slider ".concat(n?"on":"off")},t?"":"!"))))}}]),t}(r.Component);function Fn(){var e=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 80px;\n  height: 40px;\n  font-size: 16px;\n  background: ",";\n  margin: 0 0 0 5px;\n  border: solid 2px ",";\n  border-radius: 4px;\n  color: ",";\n\n  @media (max-width: ",") {\n    width: 50px;\n    height: 30px;\n    font-size: 12px;\n  }\n"]);return Fn=function(){return e},e}function kn(){var e=Object(p.a)(["\n  width: 100px;\n  height: 40px;\n  font-size: 14px;\n  margin: 0 5px;\n  background-color: ",";\n  border: solid 2px ",";\n  border-radius: 4px;\n  outline: none;\n  color: ",";\n\n  &:hover {\n    cursor: pointer;\n    opacity: 0.7;\n  }\n\n  @media (max-width: ",") {\n    width: 80px;\n    height: 30px;\n    font-size: 12px;\n  }\n"]);return kn=function(){return e},e}function On(){var e=Object(p.a)(["\n  margin: 10px 0;\n  // TODO: Change color to Material color\n  border: solid 1px green;\n\n  button {\n    margin-left: 16px;\n  }\n"]);return On=function(){return e},e}function wn(){var e=Object(p.a)(["\n  position:relative;\n  display: flex;\n  align-items: center;\n  border-radius: 4px;\n  height: 40px;\n  margin-right: 5px;\n"]);return wn=function(){return e},e}function Sn(){var e=Object(p.a)(["\n  display: flex;\n  flex-grow: 1;\n\n  overflow-x: scroll;\n  scrollbar-width: none; /* Firefox */\n\n  ::-webkit-scrollbar { /* WebKit */\n    width: 0;\n    height: 0;\n  }\n"]);return Sn=function(){return e},e}function Tn(){var e=Object(p.a)(["\n  background: ",";\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  height: 50px;\n\n"]);return Tn=function(){return e},e}var Dn=f.d.div(Tn(),(function(e){return e.theme.SelectionBackground})),An=f.d.div(Sn()),Bn=f.d.div(wn()),jn=(f.d.div(On()),f.d.button(kn(),(function(e){return e.isSelected?function(e){return e.theme.SelectionForeground}:function(e){return e.theme.Disabled}}),(function(e){return e.theme.Border}),(function(e){return e.theme.Contrast}),"620px")),Rn=f.d.div(Fn(),(function(e){return e.theme.SecondBackground}),(function(e){return e.theme.Border}),(function(e){return e.theme.FunctionsColor}),"620px"),In=function(e){Object(d.a)(t,e);var n=Object(u.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=n.call(this,e)).onClick=r.onClickPeer.bind(Object(l.a)(r)),r.onClickSystemMessageTab=r.onClickSystemMessageTab.bind(Object(l.a)(r)),r}return Object(s.a)(t,[{key:"onClickPeer",value:function(e){console.log("uuid is ",e),this.props.dispatch(function(e){return{type:"UPDATE_PEER_UUID",payload:e}}(e)),function(e){var n=new se(w,new y({uuid:e}));ce.dispatchEvent(n)}(e)}},{key:"onClickSystemMessageTab",value:function(){this.props.dispatch({type:"UPDATE_IS_SYSTEM_MESSAGE_SELECTED"})}},{key:"render",value:function(){var e=this,n=this.props,t=n.peers,a=n.peerUUID,i=n.systemMessageMetaData;return console.log("this.props is ",this.props),console.log("peers is ",t),o.a.createElement(r.Fragment,null,o.a.createElement(Dn,{className:"localdrop-peer-tab"},o.a.createElement(Rn,null,"PEERS :"),!1,o.a.createElement(An,null,t&&t.map((function(n){return o.a.createElement(jn,{key:n,isSelected:n===a,onClick:e.onClickPeer.bind(e,n)},"#".concat(n))}))),o.a.createElement(Bn,{isRead:i.isRead},o.a.createElement(yn,{key:"System-Message-toggle",isSwitchOn:i.isSelected,isRead:i.isRead,onClick:this.onClickSystemMessageTab}))),!1)}}]),t}(r.Component),Nn=Object(bn.b)((function(e){return{peers:e.localDropState.peers,peerUUID:e.peerUUID,systemMessageMetaData:e.systemMessageMetaData}}))(In);function Mn(){var e=Object(p.a)(["\n  background-position: center;\n  transition: background 0.3s;\n\n  &:hover {\n    cursor: pointer;\n    opacity: 0.8;\n    background: ","\n        radial-gradient(circle, transparent 1%, "," 1%)\n        center/15000%;\n  }\n\n  &:active {\n    background-color: ",";\n    background-size: 100%;\n    transition: background 0s;\n  }\n\n  @media (max-width: ",") {\n    &:focus {\n    -webkit-tap-highlight-color: transparent;\n    outline: none;\n    -ms-touch-action: manipulation;\n    touch-action: manipulation;\n  }\n  }\n"]);return Mn=function(){return e},e}function Un(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: solid 1px ",";\n  border-top: none;\n  padding: ",";\n  height: 30px;\n  font-size: 16px;\n  width: ","px;\n  min-width: ","px;\n  max-width: ","px;\n"]);return Un=function(){return e},e}var Ln=Object(f.c)(Un(),(function(e){return e.theme.Border}),(function(e){return e.padding||"0 10px"}),(function(e){return e.width||100}),(function(e){return e.width||100}),(function(e){return e.width||100})),Pn=Object(f.c)(Mn(),(function(e){return e.theme.Buttons}),(function(e){return e.theme.Active}),(function(e){return e.theme.Contrast}),"620px");function _n(){var e=Object(p.a)(["\n  display: flex;\n  height: 30px;\n  align-items: center;\n  font-size: 14px;\n  color: ",";\n  background-color: ",";\n\n  span {\n    margin-right: 8px;\n    margin: 0 8px 0 10px;\n    color: ",";\n  }\n\n  @media (max-width: ",") {\n    height: 25px;\n  }\n"]);return _n=function(){return e},e}function zn(){var e=Object(p.a)(["\n  height: 30px;\n  margin: 0 5px;\n  outline: none;\n  border: solid 2px ",";\n  border-radius: 4px;\n  background-color: ",";\n  color: ",";\n\n  ",";\n"]);return zn=function(){return e},e}function Wn(){var e=Object(p.a)(["\n  display: flex;\n  flex-grow: 1;\n  justify-content: flex-end;\n"]);return Wn=function(){return e},e}function Hn(){var e=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  height: 40px;\n"]);return Hn=function(){return e},e}var Gn=f.d.div(Hn()),Kn=f.d.div(Wn()),Jn=f.d.button(zn(),(function(e){return e.theme.Border}),(function(e){return e.theme.Buttons}),(function(e){return e.theme.AttributesColor}),Pn),Yn=f.d.div(_n(),(function(e){return e.theme.StringsColor}),(function(e){return e.theme.SecondBackground}),(function(e){return e.theme.ParametersColor}),"620px"),Vn=function(e){Object(d.a)(t,e);var n=Object(u.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=n.call(this,e)).onClickColorThemeButton=r.onClickColorThemeButton.bind(Object(l.a)(r)),r}return Object(s.a)(t,[{key:"onClickColorThemeButton",value:function(){var e=this.props.onChangeTheme;e&&e()}},{key:"render",value:function(){var e=this.props.myUUID;return o.a.createElement(Gn,null,o.a.createElement(Yn,null,o.a.createElement("span",null,"My uuid:"),"".concat(e?"#"+e:"")),o.a.createElement(Kn,null,o.a.createElement(Jn,{onClick:this.onClickColorThemeButton},"Change Color Theme")))}}]),t}(r.Component),Xn=Object(bn.b)((function(e){return{myUUID:e.myUUID}}))(Vn);function qn(){var e=Object(p.a)(["\n  width: 80px;\n  height: 30px;\n  margin: 0 3px;\n  padding: 0;\n  outline: none;\n  font-size: 14px;\n\n  background-color: ",";\n  color: ",";\n  border: 2px solid ",";\n  border-radius: 4px;\n\n  ",";\n"]);return qn=function(){return e},e}function Zn(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  width: 100px;\n  min-width: 100px;\n  padding: 0 10px;\n\n  @media (max-width: ",") {\n    border: solid 1px ",";\n    border-style: none solid solid none;\n  }\n"]);return Zn=function(){return e},e}function $n(){var e=Object(p.a)(["\n  display: block;\n  height: auto;\n  border-style: none;\n  text-align: left;\n  font-size: 14px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  a {\n    color: ",";\n  }\n"]);return $n=function(){return e},e}function Qn(){var e=Object(p.a)(["\n  ","\n  justify-content: flex-start;\n  border-style: none solid none none;\n  height: auto;\n  width: auto;\n  max-width: none;\n  flex-grow: 1;\n\n  @media (max-width: ",") {\n    border: solid 1px ",";\n    border-style: none solid solid none;\n  }\n"]);return Qn=function(){return e},e}function et(){var e=Object(p.a)(["\n  color: ",";\n"]);return et=function(){return e},e}function nt(){var e=Object(p.a)(["\n  ","\n  height: auto;\n  border-style: none solid none none;\n  font-size: 14px;\n\n  @media (max-width: ",") {\n    border-style: none solid solid none;\n  }\n"]);return nt=function(){return e},e}function tt(){var e=Object(p.a)(["\n  display: flex;\n  width: 100%;\n  height: 40px;\n  font-size: 18px;\n  border: solid 1px ",";\n  border-style: solid none solid none;\n  box-sizing: border-box;\n  color: ",";\n\n  @media (max-width: ",") {\n    border: none;\n  }\n\n"]);return tt=function(){return e},e}var rt=f.d.div(tt(),(function(e){return e.theme.Contrast}),(function(e){return e.theme.StringsColor}),"620px"),ot=f.d.div(nt(),Ln,"620px"),at=Object(f.d)(ot)(et(),(function(e){return e.isMyMessagePacket?function(e){return e.theme.ParametersColor}:function(e){return e.theme.OperatorsColor}})),it=f.d.div(Qn(),Ln,"620px",(function(e){return e.theme.Border})),ct=f.d.span($n(),(function(e){return e.theme.LinksColor})),st=f.d.div(Zn(),"620px",(function(e){return e.theme.Border})),lt=f.d.button(qn(),(function(e){return e.theme.Buttons}),(function(e){return e.theme.AttributesColor}),(function(e){return e.theme.Border}),Pn),ut=function(e){Object(d.a)(t,e);var n=Object(u.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=n.call(this,e)).onDownloadOrCopy=r.onDownloadOrCopy.bind(Object(l.a)(r)),r.isMyMessagePacket=r.isMyMessagePacket.bind(Object(l.a)(r)),r}return Object(s.a)(t,[{key:"onDownloadOrCopy",value:function(){var e=this.props.messagePacket,n=e.source,t=e.type,r=e.data;if(t!==I.TEXT)t!==I.FILE||function(e,n){var t=n.fingerprint,r=new se(D,new x({uuid:e,fingerprint:t}));ce.dispatchEvent(r)}(n,r);else{var o=r.message;navigator.clipboard.writeText(o).then((function(){}),(function(){}))}}},{key:"isMyMessagePacket",value:function(e){return console.log("isMyMessagePacket, source is ",e),console.log("isMyMessagePacket, getMyUUID() is ",ze()),e===ze()}},{key:"isStartWithHttp",value:function(e){return e.startsWith("http")}},{key:"renderContent",value:function(e,n){if(e===I.TEXT)return o.a.createElement(r.Fragment,null,o.a.createElement(it,{width:200},this.isStartWithHttp(n.message)?o.a.createElement(ct,null,o.a.createElement("a",{href:n.message,target:"_blank",rel:"noopener noreferrer"},"".concat(n.message))):o.a.createElement(ct,null,"".concat(n.message))),o.a.createElement(ot,{padding:"0"},"".concat(n.size)));if(e===I.FILE){var t=(a=n.size)>=1e3&&a<1e6?"".concat((a/1e3).toFixed(1)," KB"):a>=1e6&&a<1e9?"".concat((a/1e6).toFixed(1)," MB"):a>=1e9?"".concat((a/1e9).toFixed(1)," GB"):void 0;return o.a.createElement(r.Fragment,null,o.a.createElement(it,{width:200},o.a.createElement(ct,null,"".concat(n.message))),o.a.createElement(ot,{padding:"0"},t))}var a}},{key:"renderButton",value:function(e,n){return e===I.TEXT?o.a.createElement(lt,{onClick:this.onDownloadOrCopy},"Copy"):e!==I.FILE||this.isMyMessagePacket(n)?void 0:o.a.createElement(lt,{onClick:this.onDownloadOrCopy},"Download")}},{key:"renderMessagePacket",value:function(e){if(e){var n=e.source,t=e.destination,a=e.type,i=e.data,c=e.time,s=(e.progress,this.isMyMessagePacket(n));return o.a.createElement(r.Fragment,null,o.a.createElement(at,{width:40,padding:"0",isMyMessagePacket:s},"".concat(s?"\u21c7":"\u21c9")),o.a.createElement(ot,{padding:"0"},"#".concat(n)),o.a.createElement(ot,{padding:"0"},"#".concat(t)),o.a.createElement(ot,{width:50},"".concat(a)),this.renderContent(a,i),o.a.createElement(ot,{width:50},"".concat(c)),!1,o.a.createElement(st,null,this.renderButton(a,n)),!1,!1)}}},{key:"render",value:function(){var e=this.props.messagePacket;return o.a.createElement(rt,{className:"localdrop-message-item"},this.renderMessagePacket(e))}}]),t}(r.Component);function dt(){var e=Object(p.a)(["\n  display:flex;\n  align-items: center;\n  min-height: 30px;\n  border-bottom: solid 1px ",";\n  color: white;\n\n  span {\n    min-width: 125px;\n    color: ",";\n    margin: 0 10px 0 10px;\n    font-size: 14px;\n  }\n\n  pre {\n    white-space: pre-wrap;\n    margin-right: 5px;\n    color: ",";\n  }\n\n"]);return dt=function(){return e},e}var pt=f.d.div(dt(),(function(e){return e.theme.Contrast}),(function(e){return e.theme.TagsColor}),(function(e){return e.theme.StringsColor})),ft=function(e){Object(d.a)(t,e);var n=Object(u.a)(t);function t(){return Object(c.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props.systemMessage;return o.a.createElement(pt,null,o.a.createElement("span",null,"[System] ","".concat(e.createdAt,":")),o.a.createElement("pre",null,e.message))}}]),t}(r.Component);function gt(){var e=Object(p.a)(["\n  display: ",";\n  min-height: 100px;\n  height: 100%;\n  background: ",";\n  overflow-y: scroll;\n\n  @media (max-width: ",") {\n    height: auto;\n    min-height: 300px;\n  }\n"]);return gt=function(){return e},e}function ht(){var e=Object(p.a)(["\n  width: 100%;\n  height: calc(100% - 294px);\n"]);return ht=function(){return e},e}var mt=f.d.div(ht()),Ct=f.d.div(gt(),(function(e){return e.isSelected?"block":"none"}),(function(e){return e.theme.SecondBackground}),"620px"),vt=function(e){Object(d.a)(t,e);var n=Object(u.a)(t);function t(){return Object(c.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props,n=e.messagePackets,t=e.systemMessages,r=e.systemMessageMetaData;return o.a.createElement(mt,{className:"localdrop-message-table"},o.a.createElement(Ct,{className:"localdrop-message-item-container",isSelected:!r.isSelected},n.map((function(e){var n=e.data;return o.a.createElement(ut,{key:n.fingerprint,messagePacket:e})}))),o.a.createElement(Ct,{isSelected:r.isSelected},t.map((function(e){return o.a.createElement(ft,{key:e.fingerprint,systemMessage:e})}))))}}]),t}(r.Component),bt=Object(bn.b)((function(e){return{messagePackets:e.messagePackets,systemMessages:e.systemMessages,systemMessageMetaData:e.systemMessageMetaData}}))(vt);function Et(){var e=Object(p.a)(["\n  min-width: 100px;\n  width: 100px;\n  padding: 0 10px;\n"]);return Et=function(){return e},e}function xt(){var e=Object(p.a)(["\n  ","\n  border-style: none solid none none;\n  width: auto;\n  max-width: none;\n  flex-grow: 1;\n"]);return xt=function(){return e},e}function yt(){var e=Object(p.a)(["\n  ","\n  border-style: none solid none none;\n"]);return yt=function(){return e},e}function Ft(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: flex-start;\n  border: solid 2px ",";\n  border-style: solid none;\n  background: ",";\n  color: ",";\n\n  overflow-x: scroll;\n\n  /* hide scrollbar */\n  scrollbar-width: none; /* Firefox */\n  ::-webkit-scrollbar { /* WebKit */\n    width: 0;\n    height: 0;\n  }\n"]);return Ft=function(){return e},e}var kt=f.d.div(Ft(),(function(e){return e.theme.Border}),(function(e){return e.theme.Highlight}),(function(e){return e.theme.AttributesColor})),Ot=f.d.div(yt(),Ln),wt=f.d.div(xt(),Ln),St=f.d.div(Et()),Tt=function(e){Object(d.a)(t,e);var n=Object(u.a)(t);function t(){return Object(c.a)(this,t),n.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props.systemMessageMetaData;return o.a.createElement(r.Fragment,null,!e.isSelected&&o.a.createElement(kt,{className:"localdrop-message-table-header"},o.a.createElement(Ot,{width:40,padding:"0"},"\u21c4"),o.a.createElement(Ot,{padding:"0"},"Source"),o.a.createElement(Ot,{padding:"0"},"Destination"),!1,o.a.createElement(Ot,{width:50},"TYPE"),o.a.createElement(wt,null,"Content"),o.a.createElement(Ot,{padding:"0"},"SIZE"),o.a.createElement(Ot,{width:50},"Time"),o.a.createElement(St,null),!1))}}]),t}(r.Component),Dt=Object(bn.b)((function(e){return{systemMessageMetaData:e.systemMessageMetaData}}))(Tt);function At(){var e=Object(p.a)(["\n  display: flex;\n  height: 40px;\n  color: ",";\n  background: ",";\n\n  div {\n    display: flex;\n    align-items: center;\n    text-align: left;\n    font-size: 14px;\n    margin: 2px 20px 2px 20px;\n    cursor: pointer;\n\n    svg {\n      width: 20px;\n      height: 20px;\n      margin-right: 6px;\n      fill: ",";\n    }\n  }\n\n  .localdrop-app-version {\n    margin-left: auto;\n  }\n\n  @media (max-width: ",") {\n    display: none;\n  }\n"]);return At=function(){return e},e}var Bt=f.d.div(At(),(function(e){return e.theme.StringsColor}),(function(e){return e.theme.Background}),(function(e){return e.theme.SecondText}),"620px"),jt=function(e){Object(d.a)(t,e);var n=Object(u.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=n.call(this,e)).onClickId=r.onClickId.bind(Object(l.a)(r)),r.onClickRepo=r.onClickRepo.bind(Object(l.a)(r)),r}return Object(s.a)(t,[{key:"onClickId",value:function(){window.open("https://github.com/24seconds/","_blank")}},{key:"onClickRepo",value:function(){window.open("https://github.com/24seconds/localdrop","_blank")}},{key:"render",value:function(){return o.a.createElement(Bt,{className:"localdrop-footer"},o.a.createElement("div",{onClick:this.onClickId},o.a.createElement(hn,null),"24seconds"),o.a.createElement("div",{onClick:this.onClickRepo},o.a.createElement(hn,null),"repo : localdrop"),o.a.createElement("div",{className:"localdrop-app-version"},"version: ".concat("v0.1.0")))}}]),t}(r.Component),Rt=function e(n){var t=n.file,r=n.fingerprint;Object(c.a)(this,e),this.file=t,this.fingerprint=r};function It(){var e=Object(p.a)(["\n  margin: 0 5px 0 3px;\n\n  @media (max-width: ",") {\n    margin: 0 5px 0 0;\n  }\n"]);return It=function(){return e},e}function Nt(){var e=Object(p.a)(["\n  width: 50px;\n  outline: none;\n  background-color: ",";\n  color: ",";\n  border: 2px solid ",";\n  border-radius: 4px;\n  padding: 0;\n  margin: 0 3px;\n  height: 50px;\n\n  ",";\n"]);return Nt=function(){return e},e}function Mt(){var e=Object(p.a)(["\n  width: 50px;\n  height: 50px;\n  border: 1px solid ",";\n  border-radius: 4px;\n  margin: 0 5px;\n  background-color: ",";\n  outline: none;\n\n  color: ",";\n  font-size: 16px;\n  font-weight: 800;\n  ",";\n\n  @media (max-width: ",") {\n    width: 40px;\n    height: 40px;\n  }\n"]);return Mt=function(){return e},e}function Ut(){var e=Object(p.a)(["\n  display: none;\n"]);return Ut=function(){return e},e}function Lt(){var e=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  max-height: 180px;\n  height: 70px;\n  margin-top: 5px;\n  background-color: ",";\n\n  textarea {\n    background-color: ",";\n    color: ",";\n    resize: none;\n    flex-grow: 1;\n    padding: 10px 5px;\n    min-height: 40px;\n    max-height: 120px;\n    outline: none;\n    border: 2px solid ",";\n    border-radius: 4px;\n  }\n\n  @media (max-width: ",") {\n    height: 75px;\n  }\n"]);return Lt=function(){return e},e}var Pt=f.d.div(Lt(),(function(e){return e.theme.SecondBackground}),(function(e){return e.theme.SecondBackground}),(function(e){return e.theme.SecondText}),(function(e){return e.theme.Border}),"620px"),_t=f.d.input(Ut()),zt=f.d.button(Mt(),(function(e){return e.theme.Border}),(function(e){return e.theme.Buttons}),(function(e){return e.theme.ParametersColor}),Pn,"620px"),Wt=f.d.button(Nt(),(function(e){return e.theme.Buttons}),(function(e){return e.theme.AttributesColor}),(function(e){return e.theme.Border}),Pn),Ht=Object(f.d)(Wt)(It(),"620px"),Gt=function(e){Object(d.a)(t,e);var n=Object(u.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=n.call(this,e)).state={text:"",files:[]},r.handleText=r.handleText.bind(Object(l.a)(r)),r.onSend=r.sendText.bind(Object(l.a)(r)),r.handleFiles=r.handleFiles.bind(Object(l.a)(r)),r.onClickFile=r.onClickFile.bind(Object(l.a)(r)),r.onPasteText=r.onPasteText.bind(Object(l.a)(r)),r.fileInputRef=null,r.textareaRef=null,r}return Object(s.a)(t,[{key:"getPlaceholder",value:function(){var e=this.props.peerUUID;return e?"Send Message to #".concat(e,"..."):"Select peer to send Message!"}},{key:"handleFiles",value:function(e){var n=this.props.peerUUID;if(console.log("handleFiles called, peerUUID is ",n),n){var t=e.target.files;if(0===t.length)return void console.log("no files are selected");for(var r=[],o=0;o<t.length;o++)r.push(new Rt({file:t.item(o),fingerprint:J()}));console.log("handleFiles, files are ",t),this.props.dispatch(function(e){return{type:"ADD_FILES",payload:e}}(r)),Ue(n,r)}else Ye("peerUUID is null! Select peer to transfer files!")}},{key:"handleText",value:function(e){this.setState({text:e.target.value})}},{key:"sendText",value:function(){var e=this.props.peerUUID,n=this.state.text;console.log("sendText is called, text is ",n),0!==n.length&&(e?(!function(e,n){var t=new se(S,new b({uuid:e,message:n}));ce.dispatchEvent(t)}(e,n),this.setState({text:""}),this.textareaRef&&this.textareaRef.focus()):Ye("peerUUID is null! Select peer to send text!"))}},{key:"onClickFile",value:function(){this.fileInputRef&&this.fileInputRef.click()}},{key:"onPasteText",value:function(){var e=Object(m.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:n=e.sent,this.setState({text:n});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,n=this.state.text;return o.a.createElement(Pt,null,o.a.createElement(_t,{type:"file",ref:function(n){return e.fileInputRef=n},multiple:!0,onClick:function(){e.fileInputRef.value=null},onChange:this.handleFiles}),o.a.createElement(zt,{onClick:this.onClickFile}," + "),o.a.createElement("textarea",{autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,ref:function(n){return e.textareaRef=n},value:n,onChange:this.handleText,placeholder:this.getPlaceholder()}),o.a.createElement(Wt,{onClick:this.onPasteText},"paste"),o.a.createElement(Ht,{onClick:this.onSend},"send"))}}]),t}(r.Component),Kt=Object(bn.b)((function(e){return{myUUID:e.myUUID,peerUUID:e.peerUUID}}))(Gt);function Jt(){var e=Object(p.a)(["\n  background-color: ",";\n\n  @media (max-width: ",") {\n    position: sticky;\n    top: 0;\n  }\n"]);return Jt=function(){return e},e}function Yt(){var e=Object(p.a)(["\n  border: solid 2px ",";\n  border-radius: 5px;\n  height: 100%;\n\n  @media (max-width: ",") {\n    margin: 0;\n    border: none;\n  }\n"]);return Yt=function(){return e},e}function Vt(){var e=Object(p.a)(["\n  height: calc(100% - 110px);\n  padding: 50px 100px;\n\n  @media (max-width: ",") {\n    padding: 0;\n  }\n"]);return Vt=function(){return e},e}function Xt(){var e=Object(p.a)(["\n  html, body {\n    background-color: ",";\n  }\n"]);return Xt=function(){return e},e}var qt=Object(f.b)(Xt(),(function(e){return e.theme.SecondBackground})),Zt=f.d.div(Vt(),"620px"),$t=f.d.div(Yt(),(function(e){return e.theme.Contrast}),"620px"),Qt=f.d.div(Jt(),(function(e){return e.theme.SecondBackground}),"620px"),er=function(e){Object(d.a)(t,e);var n=Object(u.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=n.call(this,e)).STORAGE_COLOR_THEME_KEY="STORAGE_COLOR_THEME_KEY",r.themeIndex=0,r.state={colorTheme:Ve[r.getStorageColorTheme()||"MaterialThemeOceanic"]},r.onChangeTheme=r.onChangeTheme.bind(Object(l.a)(r)),r}return Object(s.a)(t,[{key:"getStorageColorTheme",value:function(){return window.localStorage.getItem(this.STORAGE_COLOR_THEME_KEY)}},{key:"setStorageColorTheme",value:function(e){window.localStorage.setItem(this.STORAGE_COLOR_THEME_KEY,e)}},{key:"getNextKey",value:function(e){var n=e[this.themeIndex];return this.themeIndex=(this.themeIndex+1)%e.length,n===localStorage.getItem(this.STORAGE_COLOR_THEME_KEY)?this.getNextKey(e):n}},{key:"onChangeTheme",value:function(){console.log("onChangeTheme called");var e=Object.keys(Ve),n=this.getNextKey(e);this.setStorageColorTheme(n),console.log("randomKey is ",n),this.setState({colorTheme:Ve[n]})}},{key:"render",value:function(){var e=this.state.colorTheme;return console.log("colorTheme is ",e),o.a.createElement(f.a,{theme:e},o.a.createElement(qt,null),o.a.createElement(Zt,{className:"App"},o.a.createElement($t,{className:"localdrop-app-container"},o.a.createElement(Qt,null,o.a.createElement(vn,null),o.a.createElement(Kt,null),o.a.createElement(Xn,{onChangeTheme:this.onChangeTheme}),o.a.createElement(Nn,null),o.a.createElement(Dt,null)),o.a.createElement(bt,null),o.a.createElement(jt,null))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(bn.a,{store:ke},o.a.createElement(er,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.b30377ee.chunk.js.map